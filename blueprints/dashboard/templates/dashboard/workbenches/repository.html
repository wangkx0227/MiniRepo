{% extends 'dashboard/workbenches.html' %}
<!-- {{ super() }} 继承父类的内容不重写,而是增加 -->
{% block main_navigation_bar %}
{{ super() }}
<span>/</span>
<span><a href="javascript:void(0);">仓库</a></span>
{% endblock main_navigation_bar %}
{% block css %}
<link rel="stylesheet"
      href="{{ url_for('dashboard_page.static', filename='workbenches/repository/repository.css') }}">
{% endblock css %}
{% block workbenches_content %}
<div class="main-repository">
    <div class="repository-head">
        <div class="repository-head-select">
            <s-picker label="展示类型" id="repositoryTypeSelect">
                <s-picker-item value="all">全部</s-picker-item>
                <s-picker-item value="personal">我自己的</s-picker-item>
                <s-picker-item value="joined">我参与的</s-picker-item>
                <s-picker-item value="forked">Forks</s-picker-item>
                <s-picker-item value="stopped_closed">暂停/关闭</s-picker-item>
            </s-picker>
        </div>
        <div class="repository-head-search">
            <s-text-field label="快速搜索" id="SearchInput" value="">
                <s-icon slot="start" name="search"></s-icon>
                <s-icon-button slot="end" id="clearBtn">
                    <s-icon name="close"></s-icon>
                </s-icon-button>
            </s-text-field>
        </div>
    </div>
    <div class="repository-content">
        <ul class="repository-content-ul">
            {% if data %}
                {% for i in data %}
                <s-divider style="margin: 0"></s-divider>
                <li class="repository-content-li">
                    <div class="repository-content-title">
                        <div style="display: flex">
                            <s-tooltip align="right">
                                <s-icon slot="trigger">
                                    <s2-icon name="repository_locked"></s2-icon>
                                </s-icon>
                                {{ i.type_name }}
                            </s-tooltip>
                            <h4 class="fonts-color-major">
                                <a href="{{ i.repository_path_url }}">{{ i.user_name }}/{{ i.repository_path_name }}</a>
                            </h4>
                        </div>
                        <ul class="repository-content-title-ul fonts-color-minor">
                            <li class="watch">
                                <s-icon>
                                    <s2-icon name="repository_eye"></s2-icon>
                                </s-icon>
                                <span>{{ i.see_repository_number }}</span>
                            </li>
                            <li class="start">
                                <s-icon>
                                    <s2-icon name="repository_start"></s2-icon>
                                </s-icon>
                                <span>{{ i.start_repository_number }}</span>
                            </li>
                            <li class="fork">
                                <s-icon>
                                    <s2-icon name="repository_fork"></s2-icon>
                                </s-icon>
                                <span>{{ i.fork_repository_number }}</span>
                            </li>
                        </ul>
                    </div>
                    <div class="repository-content-description fonts-color-routine">
                        <span>简介：</span>
                        <s-tooltip align="bottom">
                            <span class="repository-content-description-introduction"
                                  slot="trigger">
                                {{ i.repository_description }}
                            </span>
                            {{ i.repository_description }}
                        </s-tooltip>
                    </div>
                    <div class="fonts-color-minor repository-content-language">
                        <div>
                            <s-icon>
                                <s2-icon name="repository_code"></s2-icon>
                            </s-icon>
                            <span>{{ i.repository_code_language }}</span>
                        </div>
                        <div>
                            <s-icon>
                                <s2-icon name="repository_time"></s2-icon>
                            </s-icon>
                            <span>{{ i.repository_recently_time }}</span>
                        </div>
                        <div>
                            <s-icon>
                                <s2-icon name="repository_attachment"></s2-icon>
                            </s-icon>
                            <span>{{ i.type_name }}</span>
                        </div>
                    </div>
                </li>
                {% endfor %}
            {% else %}
                <s-empty style="min-height: 70vh">暂时没有数据</s-empty>
            {% endif %}
        </ul>
    </div>
</div>
{% endblock workbenches_content %}
{% block js_end %}
{{ super() }}
<script src="{{ url_for('dashboard_page.static', filename='workbenches/repository/repository.js') }}"></script>
{% endblock js_end %}